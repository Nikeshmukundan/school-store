{% load static %}
<!doctype html>
<html lang="en">
<head>
      <!-- basic -->
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- mobile metas -->
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="viewport" content="initial-scale=1, maximum-scale=1">
      <!-- site metas -->
      <title>school store</title>
      <meta name="keywords" content="">
      <meta name="description" content="">
      <meta name="author" content="">
      <!-- bootstrap css -->
      <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.min.css' %}">
      <!-- style css -->
      <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
      <!-- Responsive-->
      <link rel="stylesheet" href="{% static 'css/responsive.css' %}">
      <!-- fevicon -->
      <link rel="icon" href="{% static 'images/fevicon.png' %}" type="image/gif" />
      <!-- Scrollbar Custom CSS -->
      <link rel="stylesheet" href="{% static 'css/jquery.mCustomScrollbar.min.css">
      <!-- Tweaks for older IEs-->
      <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
      <style>
   /* Style for the submit button */
   input[type="submit"] {
      background-color: #4CAF50; /* Green background color */
      color: white; /* White text color */
      padding: 10px 20px; /* Padding around the text */
      font-size: 16px; /* Font size */
      border: none; /* No border */
      border-radius: 5px; /* Rounded corners */
      cursor: pointer; /* Cursor style on hover */
      transition: background-color 0.3s; /* Smooth transition for background color */
   }

   input[type="submit"]:hover {
      background-color: #45a049; /* Darker green color on hover */
   }

   /* Style for the "Register" link */
   .register-link {
      background-color: #3498db; /* Blue background color */
      color: white; /* White text color */
      padding: 10px 20px; /* Padding around the text */
      font-size: 16px; /* Font size */
      text-decoration: none; /* Remove underline */
      border-radius: 5px; /* Rounded corners */
      transition: background-color 0.3s; /* Smooth transition for background color */
   }

   .register-link:hover {
      background-color: #2980b9; /* Darker blue color on hover */
   }
</style>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Dependent Dropdown in Django</title>
</head>
<body>
<div class="header_section header_bg">
         <div class="container">
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
               <a class="navbar-brand"href="index.html"><img src="{% static 'images/logo.png' %}"></a>
               <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
               <span class="navbar-toggler-icon"></span>
               </button>
               <div class="collapse navbar-collapse" id="navbarSupportedContent">
                  <ul class="navbar-nav ml-auto">
                     <li class="nav-item">
                        <a class="nav-link" href="{% url 'demo_app:index' %}">Home</a>
                     </li>

                  </ul>
               </div>
            </nav>
         </div>
      </div>
<button id="showFormButton">Show Form</button>
<div id="formContainer" style="display: none;">
<h2>Person Form</h2>

<form method="post" id="personForm" data-courses-url="{% url 'demo_app:ajax_load_courses' %}">
    {% csrf_token %}
    {{ form.as_p }}
    <input type="submit" value="Submit">
</form>
  <div id="confirmation-message" style="display: none;">
        <p id="order-confirmation-message">Order Confirmed!</p>
        <p><a class="nav-link register-link" href="{% url 'demo_app:index' %}">Go to Home Page</a></p>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script>
 $("#showFormButton").click(function () {
        $("#formContainer").show();
    });
    $("#id_department").change(function () {
        const url = $("#personForm").attr("data-courses-url");
        const departmentId = $(this).val();

        $.ajax({
            url: url,
            data: {
                'department_id': departmentId
            },
            success: function (data) {
                $("#id_course").html(data);
            },
            error: function (xhr, ajaxOptions, thrownError) {
                console.log(xhr.status);
                console.log(thrownError);
            }
        });
    });
     $(document).ready(function() {
        $("#personForm").submit(function(event) {
            event.preventDefault();

            // Perform your AJAX post request or other logic here
            // ...

            // Display the confirmation message and link
            $("#confirmation-message").show();
        });
    });
</script>
 <script src="{% static 'js/jquery.min.js' %}"></script>
      <script src="{% static 'js/popper.min.js' %}"></script>
      <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
      <script src="{% static 'js/jquery-3.0.0.min.js' %}"></script>
      <script src="{% static 'js/plugin.js' %}"></script>
      <!-- sidebar -->



</body>
</html>